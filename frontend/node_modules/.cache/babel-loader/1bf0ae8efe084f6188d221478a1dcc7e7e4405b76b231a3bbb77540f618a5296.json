{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./submitEvent.css';// Import the CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SubmitEvent=_ref=>{let{onSubmit,eventToEdit}=_ref;const[name,setName]=useState('');const[image,setImage]=useState('');const[date,setDate]=useState('');const[description,setDescription]=useState('');useEffect(()=>{window.scrollTo(0,0);if(eventToEdit){setName(eventToEdit.name);setImage(eventToEdit.image);setDate(eventToEdit.date);setDescription(eventToEdit.description);}},[eventToEdit]);const handleSubmit=async e=>{e.preventDefault();const newEvent={name,image,date,description};try{if(eventToEdit){await axios.put(\"https://rushikersclub-backend.azurewebsites.net/api/v1/admin/events/\".concat(eventToEdit.id),newEvent);alert('Event updated successfully');}else{await axios.post('https://rushikersclub-backend.azurewebsites.net/api/v1/admin/events/new',newEvent);alert('Event submitted successfully');}onSubmit();}catch(error){console.error('Error submitting event:',error);alert('Failed to submit event. Please try again.');}};const deleteEvent=async()=>{if(!eventToEdit)return;try{await axios.delete(\"https://rushikersclub-backend.azurewebsites.net/api/v1/admin/events/\".concat(eventToEdit.id));alert('Event deleted successfully');onSubmit();}catch(error){console.error('Error deleting event:',error);alert('Failed to delete event. Please try again.');}};return/*#__PURE__*/_jsx(\"div\",{className:\"submit-post-form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Title\",value:name,onChange:e=>setName(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Image URL\",value:image,onChange:e=>setImage(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:date,onChange:e=>setDate(e.target.value)}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Description\",value:description,onChange:e=>setDescription(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:eventToEdit?\"Update\":\"Submit\"}),eventToEdit&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:deleteEvent,children:\"Delete\"})]})});};export default SubmitEvent;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","SubmitEvent","_ref","onSubmit","eventToEdit","name","setName","image","setImage","date","setDate","description","setDescription","window","scrollTo","handleSubmit","e","preventDefault","newEvent","put","concat","id","alert","post","error","console","deleteEvent","delete","className","children","type","placeholder","value","onChange","target","onClick"],"sources":["C:/Github/rushikersclub-web/frontend/src/components/SubmitEvent/submitEvent.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './submitEvent.css'; // Import the CSS file\r\n\r\nconst SubmitEvent = ({ onSubmit, eventToEdit }) => {\r\n  const [name, setName] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [date, setDate] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    if (eventToEdit) {\r\n      setName(eventToEdit.name);\r\n      setImage(eventToEdit.image);\r\n      setDate(eventToEdit.date);\r\n      setDescription(eventToEdit.description);\r\n    }\r\n  }, [eventToEdit]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const newEvent = { name, image, date, description };\r\n    try {\r\n      if (eventToEdit) {\r\n        await axios.put(`https://rushikersclub-backend.azurewebsites.net/api/v1/admin/events/${eventToEdit.id}`, newEvent);\r\n        alert('Event updated successfully');\r\n      } else {\r\n        await axios.post('https://rushikersclub-backend.azurewebsites.net/api/v1/admin/events/new', newEvent);\r\n        alert('Event submitted successfully');\r\n      }\r\n      onSubmit();\r\n    } catch (error) {\r\n      console.error('Error submitting event:', error);\r\n      alert('Failed to submit event. Please try again.');\r\n    }\r\n  };\r\n\r\n  const deleteEvent = async () => {\r\n    if (!eventToEdit) return;\r\n    try {\r\n      await axios.delete(`https://rushikersclub-backend.azurewebsites.net/api/v1/admin/events/${eventToEdit.id}`);\r\n      alert('Event deleted successfully');\r\n      onSubmit();\r\n    } catch (error) {\r\n      console.error('Error deleting event:', error);\r\n      alert('Failed to delete event. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"submit-post-form\">\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Title\"\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Image URL\"\r\n          value={image}\r\n          onChange={(e) => setImage(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          value={date}\r\n          onChange={(e) => setDate(e.target.value)}\r\n        />\r\n        <textarea\r\n          placeholder=\"Description\"\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n        <button type=\"submit\">{eventToEdit ? \"Update\" : \"Submit\"}</button>\r\n        {eventToEdit && <button type=\"button\" onClick={deleteEvent}>Delete</button>}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubmitEvent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}