{"ast":null,"code":"import _objectSpread from\"C:/Github/rushikersclub-web/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import'./UserPanel.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserPanel=()=>{const[users,setUsers]=useState([]);const[editingUser,setEditingUser]=useState(null);const[formData,setFormData]=useState({name:'',email:'',role:''});useEffect(()=>{fetchUsers();},[]);const fetchUsers=async()=>{try{const response=await axios.get('https://rushikersclub-backend.azurewebsites.net/api/v1/admin/users');setUsers(response.data);}catch(error){console.error('Error fetching users:',error);}};const handleEdit=user=>{setEditingUser(user.id);setFormData({name:user.name,email:user.email,role:user.role});};const handleDelete=async id=>{try{await axios.delete(\"https://rushikersclub-backend.azurewebsites.net/api/v1/admin/users/\".concat(id));alert('User deleted successfully');fetchUsers();}catch(error){console.error('Error deleting user:',error);}};const handleSubmit=async e=>{e.preventDefault();try{if(editingUser){await axios.put(\"https://rushikersclub-backend.azurewebsites.net/api/v1/admin/users/\".concat(editingUser),formData);alert('User updated successfully');}setEditingUser(null);setFormData({name:'',email:'',role:''});fetchUsers();}catch(error){console.error('Error updating user:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"user-panel\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"All Users\"}),/*#__PURE__*/_jsx(\"ul\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"li\",{children:[user.name,\" (\",user.email,\") - \",user.role,/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(user),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(user.id),children:\"Delete\"})]},user.id))}),editingUser&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:formData.email,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{email:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Role\",value:formData.role,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{role:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update User\"})]})]});};export default UserPanel;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","UserPanel","users","setUsers","editingUser","setEditingUser","formData","setFormData","name","email","role","fetchUsers","response","get","data","error","console","handleEdit","user","id","handleDelete","delete","concat","alert","handleSubmit","e","preventDefault","put","className","children","map","onClick","onSubmit","type","placeholder","value","onChange","_objectSpread","target","required"],"sources":["C:/Github/rushikersclub-web/frontend/src/components/UserPanel/UserPanel.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './UserPanel.css';\r\n\r\nconst UserPanel = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [editingUser, setEditingUser] = useState(null);\r\n  const [formData, setFormData] = useState({ name: '', email: '', role: '' });\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const response = await axios.get('https://rushikersclub-backend.azurewebsites.net/api/v1/admin/users');\r\n      setUsers(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (user) => {\r\n    setEditingUser(user.id);\r\n    setFormData({ name: user.name, email: user.email, role: user.role });\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await axios.delete(`https://rushikersclub-backend.azurewebsites.net/api/v1/admin/users/${id}`);\r\n      alert('User deleted successfully');\r\n      fetchUsers();\r\n    } catch (error) {\r\n      console.error('Error deleting user:', error);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (editingUser) {\r\n        await axios.put(`https://rushikersclub-backend.azurewebsites.net/api/v1/admin/users/${editingUser}`, formData);\r\n        alert('User updated successfully');\r\n      }\r\n      setEditingUser(null);\r\n      setFormData({ name: '', email: '', role: '' });\r\n      fetchUsers();\r\n    } catch (error) {\r\n      console.error('Error updating user:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"user-panel\">\r\n      <h2>All Users</h2>\r\n      <ul>\r\n        {users.map((user) => (\r\n          <li key={user.id}>\r\n            {user.name} ({user.email}) - {user.role}\r\n            <button onClick={() => handleEdit(user)}>Edit</button>\r\n            <button onClick={() => handleDelete(user.id)}>Delete</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      {editingUser && (\r\n        <form onSubmit={handleSubmit}>\r\n          <input type=\"text\" placeholder=\"Name\" value={formData.name} onChange={(e) => setFormData({ ...formData, name: e.target.value })} required />\r\n          <input type=\"email\" placeholder=\"Email\" value={formData.email} onChange={(e) => setFormData({ ...formData, email: e.target.value })} required />\r\n          <input type=\"text\" placeholder=\"Role\" value={formData.role} onChange={(e) => setFormData({ ...formData, role: e.target.value })} required />\r\n          <button type=\"submit\">Update User</button>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPanel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}