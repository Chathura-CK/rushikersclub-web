{"ast":null,"code":"import React,{useState,useRef,useEffect}from\"react\";import Card from'@mui/material/Card';import CardContent from'@mui/material/CardContent';import Button from'@mui/material/Button';import{motion}from\"framer-motion\";import\"./EMagazine.css\";import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EMagazine=_ref=>{let{theme}=_ref;const[selectedMagazine,setSelectedMagazine]=useState(null);const[magazineData,setMagazineData]=useState([]);const detailsRef=useRef(null);useEffect(()=>{const fetchApprovedPosts=async()=>{const response=await axios.get('https://backend-chathura-chandrasiris-projects.vercel.app/api/v1/magazine/approved');setMagazineData(response.data);};fetchApprovedPosts();if(selectedMagazine&&detailsRef.current){detailsRef.current.scrollIntoView({behavior:'smooth'});}},[selectedMagazine]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container \".concat(theme),children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"E-Magazine\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:magazineData.map(magazine=>/*#__PURE__*/_jsx(motion.div,{whileHover:{scale:1.05},className:\"card-container\",onClick:()=>setSelectedMagazine(magazine),children:/*#__PURE__*/_jsxs(Card,{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{src:magazine.image,alt:magazine.title,className:\"card-image\"}),/*#__PURE__*/_jsxs(CardContent,{className:\"card-content\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title\",children:magazine.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-description\",children:magazine.description})]})]})},magazine.id))}),selectedMagazine&&/*#__PURE__*/_jsxs(\"div\",{className:\"details\",ref:detailsRef,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"details-title\",children:selectedMagazine.title}),/*#__PURE__*/_jsx(\"img\",{src:selectedMagazine.image,alt:selectedMagazine.title,className:\"details-image\"}),/*#__PURE__*/_jsx(\"p\",{children:selectedMagazine.description}),/*#__PURE__*/_jsx(Button,{className:\"close-button\",onClick:()=>setSelectedMagazine(null),children:\"Close\"})]})]});};export default EMagazine;","map":{"version":3,"names":["React","useState","useRef","useEffect","Card","CardContent","Button","motion","axios","jsx","_jsx","jsxs","_jsxs","EMagazine","_ref","theme","selectedMagazine","setSelectedMagazine","magazineData","setMagazineData","detailsRef","fetchApprovedPosts","response","get","data","current","scrollIntoView","behavior","className","concat","children","map","magazine","div","whileHover","scale","onClick","src","image","alt","title","description","id","ref"],"sources":["C:/Github/rushikersclub-web/frontend/src/components/EMagazine/EMagazine.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Button from '@mui/material/Button';\r\nimport { motion } from \"framer-motion\";  \r\nimport \"./EMagazine.css\";\r\nimport axios from 'axios';\r\n\r\nconst EMagazine = ({ theme }) => {\r\n  const [selectedMagazine, setSelectedMagazine] = useState(null);\r\n  const [magazineData, setMagazineData] = useState([]);\r\n  const detailsRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const fetchApprovedPosts = async () => {\r\n      const response = await axios.get('https://backend-chathura-chandrasiris-projects.vercel.app/api/v1/magazine/approved');\r\n      setMagazineData(response.data);\r\n    };\r\n    fetchApprovedPosts();\r\n    if (selectedMagazine && detailsRef.current) {\r\n      detailsRef.current.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  }, [selectedMagazine]);\r\n\r\n  return (\r\n    <div className={`container ${theme}`}>\r\n      <h1 className=\"title\">E-Magazine</h1>\r\n      <div className=\"grid\">\r\n        {magazineData.map((magazine) => (\r\n          <motion.div\r\n            key={magazine.id}\r\n            whileHover={{ scale: 1.05 }}\r\n            className=\"card-container\"\r\n            onClick={() => setSelectedMagazine(magazine)}\r\n          >\r\n            <Card className=\"card\">\r\n              <img src={magazine.image} alt={magazine.title} className=\"card-image\" />\r\n              <CardContent className=\"card-content\">\r\n                <h2 className=\"card-title\">{magazine.title}</h2>\r\n                <p className=\"card-description\">{magazine.description}</p>\r\n              </CardContent>\r\n            </Card>\r\n          </motion.div>\r\n        ))}\r\n      </div>\r\n      {selectedMagazine && (\r\n        <div className=\"details\" ref={detailsRef}>\r\n          <h2 className=\"details-title\">{selectedMagazine.title}</h2>\r\n          <img src={selectedMagazine.image} alt={selectedMagazine.title} className=\"details-image\" />\r\n          <p>{selectedMagazine.description}</p>\r\n          <Button className=\"close-button\" onClick={() => setSelectedMagazine(null)}>\r\n            Close\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EMagazine;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}